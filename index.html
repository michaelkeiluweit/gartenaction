<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Countdown â€“ Gartenaction</title>

  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

  <style>
    html, body { height:100%; margin:0; }
    body { display:flex; align-items:center; justify-content:center; background:#fafafa; }
    .wrap { text-align:center; padding:2rem; }
    #countdown {
      font-size:clamp(2rem,10vw,8rem);
      font-weight:800;
      font-variant-numeric:tabular-nums;
      line-height:1.1;
      letter-spacing:.04em;
    }
    .title { font-weight:600; letter-spacing:.04em; }
    .card { border-radius:16px; }
  </style>
</head>
<body>
  <main class="wrap card white z-depth-2">
    <h6 class="grey-text text-darken-2 title">Countdown</h6>
    <div id="countdown" class="black-text">--:--:--</div>
    <div class="sub grey-text text-darken-1">Gartenaction</div>
  </main>

  <script defer>
    document.addEventListener("DOMContentLoaded", () => {
      function nextSaturdayAt10() {
        const now = new Date();
        const target = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 10, 0, 0, 0);
        const day = now.getDay(); // 0=So ... 6=Sa
        let add = (6 - day + 7) % 7;
        const pastTen = now.getHours() > 10 ||
          (now.getHours() === 10 && (now.getMinutes() > 0 || now.getSeconds() > 0));
        if (add === 0 && pastTen) add = 7;
        target.setDate(target.getDate() + add);
        return target;
      }

      const countdownEl = document.getElementById("countdown");
      const pad = n => n.toString().padStart(2, "0");
      let target = nextSaturdayAt10();

      function render() {
        let diff = target - new Date();
        if (!Number.isFinite(diff) || diff <= 0) {
          target = nextSaturdayAt10();
          diff = target - new Date();
        }
        const s = Math.floor(diff / 1000);
        const d = Math.floor(s / 86400);
        const h = Math.floor((s % 86400) / 3600);
        const m = Math.floor((s % 3600) / 60);
        const sec = s % 60;
        countdownEl.textContent = d > 0
          ? `${d}d ${pad(h)}:${pad(m)}:${pad(sec)}`
          : `${pad(h)}:${pad(m)}:${pad(sec)}`;
      }

      render();
      setInterval(render, 1000);
    });
  </script>
</body>
</html>
